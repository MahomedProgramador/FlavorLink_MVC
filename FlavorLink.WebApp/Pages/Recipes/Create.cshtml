@page
@model FlavorLink.WebApp.Pages.Recipes.CreateModel
@{
	ViewData["Title"] = "Create";
	var imagePath = "~/images/no-image.jpg";
}
<h1>Create Recipe</h1>

<form method="post" class="mt-3">
	
	<div class="form-group row">
		<label class="col-sm-2 col-form-label" placeholder="Name">Name: </label>
	
		<div class="col-sm-10">
			
			<input asp-for="Recipe.Name" class="form-control" placeholder="Name of Recipe" />
			<span asp-validation-for="Recipe.Name" class="text-danger"></span>
		</div>
	</div>

	<div class="form-group row">
		<label class="col-sm-2 col-form-label" placeholder="Preparation Method">Preparation</label>
		<div class="col-sm-10">
			<input asp-for="Recipe.PrepMethod" class="form-control" placeholder="Preparation Method" />
		</div>
	</div>


	<a asp-page="/Ingredients/Create" class="btn btn-primary m-1">Add Ingredients</a>



	<div class="form-group row">
		<label class="col-sm-2 col-form-label">Difficulty</label>
		<div class="col-sm-10">
			<div class="dropdown">
				<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="difficultyDropdownButton">
					Select Difficulty
				</button>
				<ul class="dropdown-menu">
					@for (int i = 1; i <= 10; i++)
					{
						<li><a class="dropdown-item" onclick="updateDifficultyDropdownButton('@i')">@i</a></li>
					}
				</ul>
			</div>
		</div>
	</div>

	<div class="form-group row">
		<label class="col-sm-2 col-form-label">Rating</label>
		<div class="col-sm-10">
			<div class="dropdown">
				<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="ratingDropdownButton">
					Select Rating
				</button>
				<ul class="dropdown-menu">
					@for (int i = 1; i <= 5; i++)
					{
						<li><a class="dropdown-item" onclick="updateRatingDropdownButton('@i')">@i</a></li>
					}
				</ul>
			</div>
		</div>
	</div>

	<div>
		<img class="imageThumbnail" src="@imagePath" asp-append-version="true" style="width: 300px; height: auto;" />
	</div>

	<div class="form-group row">

		<div class="col-sm-10">
			<input asp-for="Image" class="form-control" />
			<label>Click to change the picture</label>
		</div>
	</div>

	<button type="submit" class="btn btn-primary m-1">Create</button>
	<a asp-page="/Recipes/Index" class="btn btn-primary m-1">Cancel </a>
</form>



<script>
	function updateDifficultyDropdownButton(value) {
		document.getElementById("difficultyDropdownButton").textContent = value;
	}

	function updateRatingDropdownButton(value) {
		document.getElementById("ratingDropdownButton").textContent = value;
	}	
</script>
